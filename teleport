local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "GHOST MAP V3",
   LoadingTitle = "Harita & I≈üƒ±nlanma Hazƒ±rlanƒ±yor...",
   LoadingSubtitle = "by Serazs",
   ConfigurationSaving = {Enabled = false}
})

local Tab = Window:CreateTab("üåç Harita Kontrol")
local Section = Tab:CreateSection("Harita ve I≈üƒ±nlanma")

-- HARƒ∞TA ƒ∞√áƒ∞N PANEL OLU≈ûTURMA
local MapContainer = Instance.new("Frame")
MapContainer.Size = UDim2.new(0, 200, 0, 200)
MapContainer.Position = UDim2.new(0.5, -100, 0, 50)
MapContainer.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
MapContainer.Parent = game.CoreGui:FindFirstChild("Rayfield").Main.Elements -- Men√º i√ßine ekleme

local viewport = Instance.new("ViewportFrame", MapContainer)
viewport.Size = UDim2.new(1, 0, 1, 0)
viewport.BackgroundTransparency = 1

local cam = Instance.new("Camera", viewport)
viewport.CurrentCamera = cam

local zoom = 300

-- I≈ûINLANMA FONKSƒ∞YONU
local function teleportToMap(relX, relY)
    local char = game.Players.LocalPlayer.Character
    if char and char:FindFirstChild("HumanoidRootPart") then
        local root = char.HumanoidRootPart
        -- Tƒ±klanan yerin koordinat hesabƒ±
        local moveX = (relX - 0.5) * (zoom * 2)
        local moveZ = (relY - 0.5) * (zoom * 2)
        root.CFrame = root.CFrame * CFrame.new(moveX, 0, moveZ)
    end
end

viewport.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        local relX = (input.Position.X - viewport.AbsolutePosition.X) / viewport.AbsoluteSize.X
        local relY = (input.Position.Y - viewport.AbsolutePosition.Y) / viewport.AbsoluteSize.Y
        teleportToMap(relX, relY)
    end
end)

-- TU≈ûLAR
Tab:CreateButton({
   Name = "Haritayƒ± Yenile (L)",
   Callback = function()
       viewport:ClearAllChildren()
       local world = Instance.new("WorldModel", viewport)
       for _, obj in pairs(game.Workspace:GetChildren()) do
           if obj:IsA("BasePart") then obj:Clone().Parent = world end
       end
   end,
})

Tab:CreateSlider({
   Name = "Zoom Ayarƒ±",
   Range = {50, 2000},
   Increment = 50,
   Suffix = "Mesafe",
   CurrentValue = 300,
   Callback = function(Value) zoom = Value end,
})

-- D√ñNG√ú
game:GetService("RunService").RenderStepped:Connect(function()
    local p = game.Players.LocalPlayer.Character.HumanoidRootPart.Position
    cam.CFrame = CFrame.new(p + Vector3.new(0, zoom, 0), p)
end)
